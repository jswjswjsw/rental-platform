import{_ as z,u as H,r as _,o as N,a as d,b as n,c as l,d as s,e as i,w as c,F as p,f as g,t as a,g as k,h as C,n as O,i as m,j as F,k as D,l as A,m as E}from"./index-05c20d45.js";const J={class:"home"},L={class:"hero-section"},q={class:"carousel-content"},G={class:"categories-section"},K={class:"container"},P={class:"categories-grid"},Q=["onClick"],W={class:"category-icon"},X={class:"featured-section"},Y={class:"container"},Z={class:"resources-grid"},ss=["onClick"],ts={class:"resource-image"},es=["src","alt"],os={class:"resource-info"},as={class:"resource-location"},ns={class:"resource-meta"},is={class:"price"},ls={class:"rating"},cs={class:"text-center"},rs={class:"stats-section"},ds={class:"container"},us={class:"stats-grid"},_s={class:"stat-item"},ps={class:"stat-number"},gs={class:"stat-item"},ms={class:"stat-number"},vs={class:"stat-item"},hs={class:"stat-number"},fs={class:"stat-item"},bs={class:"stat-number"},ys={__name:"Home",setup(ks){const v=H(),h=_([]),f=_([]),r=_({totalResources:0,totalUsers:0,totalOrders:0,totalCategories:0}),x=_([{id:1,title:"闲置资源，轻松租赁",description:"让闲置物品发挥价值，让生活更加便利",image:"/images/banner1.jpg"},{id:2,title:"安全可靠，放心交易",description:"完善的评价体系，保障每一次交易",image:"/images/banner2.jpg"},{id:3,title:"种类丰富，应有尽有",description:"从电子设备到生活用品，满足各种需求",image:"/images/banner3.jpg"}]),R=async()=>{try{const e=await k.get("/categories");e.data.success&&(h.value=e.data.data.categories.slice(0,8))}catch(e){console.error("获取分类失败:",e)}},$=async()=>{try{const e=await k.get("/resources",{params:{limit:8,sort:"view_count"}});e.data.success&&(f.value=e.data.data.resources)}catch(e){console.error("获取推荐资源失败:",e)}},j=()=>{r.value={totalResources:1234,totalUsers:5678,totalOrders:9012,totalCategories:8}},B=e=>({"el-icon-mobile-phone":"Iphone","el-icon-house":"House","el-icon-truck":"Truck","el-icon-basketball":"Basketball","el-icon-shopping-bag-1":"ShoppingBag","el-icon-reading":"Reading","el-icon-setting":"Setting","el-icon-more":"More"})[e]||"Box",S=e=>{if(!e)return"/images/placeholder.jpg";try{const t=JSON.parse(e);return t.length>0?t[0]:"/images/placeholder.jpg"}catch{return"/images/placeholder.jpg"}},V=e=>({available:"可租赁",rented:"已租出",maintenance:"维护中",offline:"已下架"})[e]||"未知",w=e=>{v.push(`/resources?category=${e}`)},M=e=>{v.push(`/resources/${e}`)};return N(()=>{R(),$(),j()}),(e,t)=>{const b=d("el-button"),I=d("el-carousel-item"),T=d("el-carousel"),y=d("el-icon"),U=d("el-rate");return n(),l("div",J,[s("section",L,[i(T,{height:"400px","indicator-position":"outside"},{default:c(()=>[(n(!0),l(p,null,g(x.value,o=>(n(),C(I,{key:o.id},{default:c(()=>[s("div",{class:"carousel-item",style:O({backgroundImage:`url(${o.image})`})},[s("div",q,[s("h2",null,a(o.title),1),s("p",null,a(o.description),1),i(b,{type:"primary",size:"large",onClick:t[0]||(t[0]=u=>e.$router.push("/resources"))},{default:c(()=>t[2]||(t[2]=[m(" 立即探索 ")])),_:1,__:[2]})])],4)]),_:2},1024))),128))]),_:1})]),s("section",G,[s("div",K,[t[3]||(t[3]=s("h2",{class:"section-title"},"热门分类",-1)),s("div",P,[(n(!0),l(p,null,g(h.value,o=>(n(),l("div",{key:o.id,class:"category-card",onClick:u=>w(o.id)},[s("div",W,[i(y,{size:"32"},{default:c(()=>[(n(),C(F(B(o.icon))))]),_:2},1024)]),s("h3",null,a(o.name),1),s("p",null,a(o.resource_count)+" 件物品",1)],8,Q))),128))])])]),s("section",X,[s("div",Y,[t[5]||(t[5]=s("h2",{class:"section-title"},"精选推荐",-1)),s("div",Z,[(n(!0),l(p,null,g(f.value,o=>(n(),l("div",{key:o.id,class:"resource-card",onClick:u=>M(o.id)},[s("div",ts,[s("img",{src:S(o.images),alt:o.title},null,8,es),s("div",{class:D(["resource-status",o.status])},a(V(o.status)),3)]),s("div",os,[s("h3",null,a(o.title),1),s("p",as,[i(y,null,{default:c(()=>[i(A(E))]),_:1}),m(" "+a(o.location||"位置未知"),1)]),s("div",ns,[s("span",is,"¥"+a(o.price_per_day)+"/天",1),s("div",ls,[i(U,{modelValue:o.rating,"onUpdate:modelValue":u=>o.rating=u,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},null,8,["modelValue","onUpdate:modelValue"])])])])],8,ss))),128))]),s("div",cs,[i(b,{type:"primary",onClick:t[1]||(t[1]=o=>e.$router.push("/resources"))},{default:c(()=>t[4]||(t[4]=[m(" 查看更多 ")])),_:1,__:[4]})])])]),s("section",rs,[s("div",ds,[s("div",us,[s("div",_s,[s("div",ps,a(r.value.totalResources),1),t[6]||(t[6]=s("div",{class:"stat-label"},"可租赁物品",-1))]),s("div",gs,[s("div",ms,a(r.value.totalUsers),1),t[7]||(t[7]=s("div",{class:"stat-label"},"注册用户",-1))]),s("div",vs,[s("div",hs,a(r.value.totalOrders),1),t[8]||(t[8]=s("div",{class:"stat-label"},"成功订单",-1))]),s("div",fs,[s("div",bs,a(r.value.totalCategories),1),t[9]||(t[9]=s("div",{class:"stat-label"},"物品分类",-1))])])])])])}}},xs=z(ys,[["__scopeId","data-v-2768726c"]]);export{xs as default};
